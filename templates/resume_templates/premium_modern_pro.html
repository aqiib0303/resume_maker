<!-- templates/resume_templates/premium_modern_pro.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>{{ (data.name if data and data.name is defined else "Your Name") ~ " - Resume" }}</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Lora:wght@400;600&family=Poppins:wght@300;500;700&family=Roboto+Mono:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* ---------- THEME VARIABLES ---------- */
    :root {
      --accent: #4f46e5;
      --ink: #0f172a;
      --subtle: #64748b;
      --paper: #ffffff;
      --line: #e2e8f0;
      --font: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      --scale: 1;
      --sidebar: 34%;
      --gap: 18px;
      --radius: 16px;
    }

    @page {
      size: A4;
      margin: 18mm 14mm;
    }

    html, body {
      margin: 0;
      background: #f1f5f9;
      color: var(--ink);
      font-family: var(--font);
      line-height: 1.6;
    }

    .page {
      background: var(--paper);
      max-width: 210mm;
      min-height: 297mm;
      margin: 20px auto;
      border-radius: var(--radius);
      box-shadow: 0 20px 60px rgba(15,23,42,0.12);
      overflow: hidden;
    }

    @media print {
      body { background: var(--paper); margin: 0; }
      .page { box-shadow: none; border-radius: 0; }
      .controls { display: none !important; }
    }

    /* Accent bar */
    .accent {
      height: 8px;
      background: linear-gradient(90deg, var(--accent), #a78bfa);
    }

    /* Header */
    .header {
      display: grid;
      grid-template-columns: var(--sidebar) 1fr;
      gap: var(--gap);
      padding: 28px;
    }

    .identity {
      display: flex;
      gap: 16px;
      align-items: center;
    }

    .avatar-wrap {
      width: 92px;
      height: 92px;
      border-radius: 50%;
      overflow: hidden;
      border: 4px solid rgba(79,70,229,.15);
      box-shadow: 0 6px 22px rgba(79,70,229,.18);
      display: grid;
      place-items: center;
      background: #eef2ff;
    }

    .avatar-wrap img {
      width: 100%; height: 100%;
      object-fit: cover;
      display: none;
    }

    .avatar-initials {
      font-weight: 800;
      color: var(--accent);
      font-size: 26px;
    }

    .name-role h1 {
      margin: 0;
      font-size: calc(28px * var(--scale));
      line-height: 1.2;
    }

    .name-role .role {
      margin-top: 4px;
      font-size: calc(15px * var(--scale));
      font-weight: 600;
      color: var(--subtle);
    }

    /* Contact */
    .contact {
      display: flex;
      flex-wrap: wrap;
      gap: 10px 12px;
      margin-top: 14px;
    }

    .contact a {
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
      color: var(--ink);
      padding: 6px 10px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: #fff;
    }

    .contact svg { width: 14px; height: 14px; }

    /* Body Layout */
    .body {
      display: grid;
      grid-template-columns: var(--sidebar) 1fr;
      gap: var(--gap);
      padding: 24px 28px;
    }

    /* Panels */
    .panel {
      background: #fff;
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 18px;
    }

    .panel h3 {
      margin: 0 0 10px;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: var(--subtle);
      border-bottom: 1px dashed var(--line);
      padding-bottom: 6px;
    }

    .summary { font-size: 13.5px; color: #0b1220; }

    /* Skills */
    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .tag {
      font-size: 12.5px;
      font-weight: 600;
      padding: 6px 10px;
      border-radius: 10px;
      background: rgba(79,70,229,.08);
      border: 1px solid rgba(79,70,229,.22);
      color: #1f2a44;
    }

    /* Experience */
    .exp-item { margin-bottom: 14px; }
    .exp-row { display: flex; justify-content: space-between; align-items: baseline; }
    .exp-title { font-weight: 700; font-size: 14.5px; }
    .exp-company { color: var(--subtle); font-weight: 600; }
    .exp-dates { font-size: 12.5px; color: var(--subtle); }
    .exp-desc { margin-top: 6px; font-size: 13px; }

    /* Education */
    .edu-item { margin-bottom: 12px; }
    .edu-degree { font-weight: 700; font-size: 14px; }
    .edu-school { color: var(--subtle); font-weight: 600; }
    .edu-dates { font-size: 12.5px; color: var(--subtle); }

    /* Drag handles */
    .section { cursor: move; }
    .handle {
      width: 16px; height: 16px;
      background: radial-gradient(var(--subtle) 2px, transparent 3px) 0 0/6px 6px;
      opacity: .5;
    }
  </style>
</head>
<body>
  <div class="page" id="page">
    <div class="accent"></div>

    <!-- HEADER -->
    <section class="header">
      <div>
        <div class="identity">
          <div class="avatar-wrap" id="avatarWrap">
            {% set full_name = (data.name if data and data.name is defined else '') %}
            {% set initials = (full_name.strip().split(' ')[0][0] ~ (full_name.strip().split(' ')[1][0] if full_name.strip().count(' ')>=1 else '')) if full_name else 'A' %}
            <img id="avatarImg" alt="Profile photo"/>
            <div class="avatar-initials" id="avatarInitials">{{ initials|upper }}</div>
          </div>
          <div class="name-role">
            <h1>{{ data.name if data and data.name is defined else "Your Name" }}</h1>
            <div class="role">{{ data.role if data and data.role is defined else "Your Role" }}</div>
          </div>
        </div>

        <div class="contact">
          {% if data.email %}<a href="mailto:{{ data.email }}">{{ data.email }}</a>{% endif %}
          {% if data.phone %}<a href="tel:{{ data.phone }}">{{ data.phone }}</a>{% endif %}
          {% if data.linkedin %}<a href="{{ data.linkedin }}">LinkedIn</a>{% endif %}
          {% if data.github %}<a href="{{ data.github }}">GitHub</a>{% endif %}
          {% if data.website %}<a href="{{ data.website }}">Website</a>{% endif %}
        </div>
      </div>

      <div class="panel">
        <h3>Professional Summary</h3>
        <div class="summary">
          {{ data.summary if data and data.summary else "Brief summary about your experience, skills, and expertise." }}
        </div>
      </div>
    </section>

    <!-- BODY -->
    <section class="body" id="sections">
      <div class="left">
        {% if data.skills %}
        <div class="panel section" draggable="true">
          <h3>Skills</h3>
          <div class="tags">
            {% for s in data.skills %}
              <span class="tag">{{ s }}</span>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>

      <div class="right">
        {% if data.experiences %}
        <div class="panel section" draggable="true">
          <h3>Experience</h3>
          {% for exp in data.experiences %}
          <div class="exp-item">
            <div class="exp-row">
              <div>
                <div class="exp-title">{{ exp.role }}</div>
                <div class="exp-company">{{ exp.company }}</div>
              </div>
              <div class="exp-dates">{{ exp.dates }}</div>
            </div>
            {% if exp.desc %}<div class="exp-desc">{{ exp.desc }}</div>{% endif %}
          </div>
          {% endfor %}
        </div>
        {% endif %}

        {% if data.education %}
        <div class="panel section" draggable="true">
          <h3>Education</h3>
          {% for edu in data.education %}
          <div class="edu-item">
            <div class="edu-degree">{{ edu.degree }}</div>
            <div class="edu-school">{{ edu.school }}</div>
            <div class="edu-dates">{{ edu.dates }}</div>
          </div>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </section>
  </div>
</body>
</html>
